<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>My Profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- Tampilkan konten hanya jika user sudah login -->
  <div *ngIf="currentUser" class="ion-text-center">
    
    <!-- Avatar user -->
    <ion-avatar class="profile-avatar">
      <img alt="Avatar" [src]="currentUser.avatar"/>
    </ion-avatar>

    <!-- Tampilkan Username -->
    <h2>Selamat Datang, {{ currentUser.username }}!</h2>
    <p>Kelola preferensi dan lihat riwayat Anda di sini.</p>
  </div>

  <!-- Detail Akun -->
  <ion-list-header>Detail Akun</ion-list-header>
  <ion-list lines="inset">
    <ion-item>
      <ion-label>
        <h3>Username</h3>
        <p>{{ currentUser?.username }}</p>
      </ion-label>
    </ion-item>
    <ion-item button="true" (click)="goToFavorites()">
      <ion-icon name="heart" slot="start" color="danger"></ion-icon>
      <ion-label>Berita Favorit Saya</ion-label>
    </ion-item>
  </ion-list>

  <!-- Form Ganti Password -->
  <ion-list-header>Ganti Password</ion-list-header>
  <ion-list lines="inset">
    <ion-item>
      <ion-input label="Password Lama" label-placement="floating" type="password" [(ngModel)]="oldPassword"></ion-input>
    </ion-item>
    <ion-item>
      <ion-input label="Password Baru" label-placement="floating" type="password" [(ngModel)]="newPassword"></ion-input>
    </ion-item>
    <ion-item>
      <ion-input label="Konfirmasi Password Baru" label-placement="floating" type="password" [(ngModel)]="confirmPassword"></ion-input>
    </ion-item>
  </ion-list>
  <ion-button expand="block" (click)="changePassword()" class="ion-margin-top">
    Simpan Password Baru
  </ion-button>

  <!-- Tombol Logout Merah -->
  <ion-button expand="block" color="danger" (click)="logout()" class="ion-margin-top">
    <ion-icon name="log-out-outline" slot="start"></ion-icon>
    Logout
  </ion-button>

  <!-- Tambahkan style untuk avatar agar lebih besar -->
  <style>
    .profile-avatar {
      width: 128px;
      height: 128px;
      margin: 20px auto;
    }
  </style>
</ion-content>

